<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Homepage</title>
    <link rel="stylesheet" href="style.css">
    <script>
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', newTheme);
            
            // ‰øùÂ≠ò‰∏ªÈ¢òÂÅèÂ•Ω
            localStorage.setItem('theme', newTheme);
            
            // Êõ¥Êñ∞ÊåâÈíÆÊñáÊú¨
            updateThemeButton();
        }

        function updateThemeButton() {
            const button = document.querySelector('.theme-switch');
            const currentTheme = document.documentElement.getAttribute('data-theme');
            button.innerHTML = currentTheme === 'dark' 
                ? '‚òÄÔ∏è Light Mode' 
                : 'üåô Dark Mode';
        }

        // È°µÈù¢Âä†ËΩΩÊó∂ËÆæÁΩÆ‰∏ªÈ¢ò
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            updateThemeButton();
        });

        // Message system
        function submitMessage() {
            const content = document.getElementById('newMessage').value;
            const author = document.getElementById('authorName').value || 'Anonymous';
            
            if (!content) {
                alert('Please write a message');
                return;
            }

            const messages = JSON.parse(localStorage.getItem('messages') || '[]');
            messages.push({
                content: content,
                author: author,
                date: new Date().toISOString()
            });
            localStorage.setItem('messages', JSON.stringify(messages));
            
            document.getElementById('newMessage').value = '';
            document.getElementById('authorName').value = '';
            alert('Message sent successfully!');
        }

        function showMessageDialog() {
            document.getElementById('messageDialog').style.display = 'flex';
        }

        function checkPassword() {
            const password = document.getElementById('password').value;
            const messageArea = document.getElementById('messageArea');
            const messages = JSON.parse(localStorage.getItem('messages') || '[]');
            
            if (password === 'abbyissmart1234567890') {
                messageArea.innerHTML = messages.map((msg, index) => 
                    `<div class="message">
                        <p class="message-content">${msg.content}</p>
                        <p class="message-info">
                            <span class="message-author">From: ${msg.author}</span>
                            <span class="message-date">${new Date(msg.date).toLocaleString()}</span>
                        </p>
                        <button class="delete-btn" onclick="deleteMessage(${index})">Delete</button>
                    </div>`
                ).join('');
                messageArea.style.display = 'block';
                document.getElementById('clearAllBtn').style.display = 'block';
            } else {
                alert('Incorrect password');
            }
        }

        function deleteMessage(index) {
            const password = document.getElementById('password').value;
            if (password !== 'abbyissmart1234567890') {
                alert('Please enter the password again to delete messages');
                return;
            }
            
            const messages = JSON.parse(localStorage.getItem('messages') || '[]');
            messages.splice(index, 1);
            localStorage.setItem('messages', JSON.stringify(messages));
            checkPassword(); // Refresh the message display
        }

        function clearAllMessages() {
            const password = document.getElementById('password').value;
            if (password !== 'abbyissmart1234567890') {
                alert('Please enter the password again to clear all messages');
                return;
            }
            
            if (confirm('Are you sure you want to delete all messages? This cannot be undone.')) {
                localStorage.setItem('messages', '[]');
                checkPassword(); // Refresh the message display
            }
        }

        // ÁÇπÂáªÂØπËØùÊ°ÜÂ§ñÈÉ®ÂÖ≥Èó≠ÂØπËØùÊ°Ü
        document.addEventListener('click', function(event) {
            const dialog = document.getElementById('messageDialog');
            if (event.target === dialog) {
                dialog.style.display = 'none';
            }
        });
    </script>
</head>
<body>
    <button class="theme-switch" onclick="toggleTheme()">üåô Dark Mode</button>
    <nav>
        <a href="index.html" class="active">Home</a>
        <a href="coursework.html">Coursework</a>
    </nav>

    <main>
        <h1>Abby Li</h1>

        <div class="social-links">
            <a href="https://www.linkedin.com/in/abby-li-70538416b/" target="_blank">LinkedIn Profile</a>
            <a href="https://github.com/drsc777" target="_blank">GitHub Profile</a>
            <a href="mailto:yl7@berkeley.edu">Email Address</a>
        </div>

        <h2>About Me</h2>
        <p>I am a sophomore studying Electrical Engineering and Computer Science (EECS) at UC Berkeley.</p>
        <p>As an EECS student, I am particularly interested in robotics, machine learning, and ASIC (Application-Specific Integrated Circuit) design.</p>

        <h2>Projects</h2>
        
        <div class="project">
            <h3>Web dev & IOS dev</h3>
            <p>Ongoing development projects focusing on web development and iOS application development.</p>
            <div class="project-links">
                <a href="cookie_game/index.html" target="_blank">
                    Cookie Clicker Game
                    <div class="preview-tooltip" style="background-image: url('images/cookiegame.png');"></div>
                </a>
                <a href="scam_website/index.html" target="_blank">
                    Fake Scam Website
                    <div class="preview-tooltip scam-preview" style="background-image: url('images/scamwebsite.png');"></div>
                </a>
            </div>
        </div>

        <div class="project">
            <h3>Micromouse & PCB</h3>
            <p>Hardware projects including microrobot design and printed circuit board fabrication.</p>
        </div>

        <!-- Add message section -->
        <section class="message-section">
            <h2>Leave a Message</h2>
            <div class="message-form">
                <input type="text" id="authorName" placeholder="Your name (optional)">
                <textarea id="newMessage" placeholder="Write your message here..."></textarea>
                <button onclick="submitMessage()">Send Message</button>
            </div>
        </section>
    </main>

    <footer>
        <p>Copyright <span class="secret-entry" onclick="showMessageDialog()">¬©</span> 2024 Abby Li</p>
    </footer>

    <!-- ‰øÆÊîπÂØÜÁ†ÅÂØπËØùÊ°Ü -->
    <div id="messageDialog" class="message-dialog" style="display: none;">
        <div class="dialog-content">
            <input type="password" id="password" placeholder="Enter password">
            <button onclick="checkPassword()">View Messages</button>
            <div id="messageArea" class="message-area" style="display: none;"></div>
            <button id="clearAllBtn" class="clear-all-btn" onclick="clearAllMessages()" style="display: none;">Clear All Messages</button>
        </div>
    </div>
</body>
</html> 
